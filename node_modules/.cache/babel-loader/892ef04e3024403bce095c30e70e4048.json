{"ast":null,"code":"var _jsxFileName = \"/root/\\xC1rea de trabalho/Sistema Patricia/frontend/src/components/Sabores/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../../components/Header';\nimport Body from '../../components/Body';\nimport api from '../../services/api';\nimport './styles.css';\n\nfunction Sabores() {\n  const [bolosFiltrados, setBolosFiltrados] = useState([]);\n  const [sabores, setSabores] = useState([]);\n\n  async function buscaSabores() {\n    const requestSabores = await api.get('sabor');\n\n    if (typeof requestSabores.data == 'object') {\n      setSabores(requestSabores.data);\n    }\n  }\n\n  async function buscaBoloPorSabor(event) {\n    event = event ? event : window.event;\n    let formulario = document.getElementById('formulario-sabores');\n    let sabores = [];\n\n    if (!!formulario.sabores) {\n      if (!!formulario.sabores.value) sabores = [formulario.sabores.value];else {\n        let arrayAux = [...formulario.sabores];\n        arrayAux.forEach(element => {\n          if (!!element.checked) sabores.push(element.value);\n        });\n      }\n    }\n\n    const valores = sabores.join(',');\n\n    if (!!valores) {\n      console.log(valores);\n      const requestBolos = await api.get('bolo?caracteristicas=' + valores);\n\n      if (typeof requestBolos.data == 'object') {\n        setBolosFiltrados(requestBolos.data);\n      }\n    } else setBolosFiltrados([]);\n  }\n\n  useEffect(function () {\n    buscaSabores();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Escolha seus sabores preferidos\"), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"formulario-sabores\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, sabores.map(element => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: element.id,\n      className: \"item-sabor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"sabores\",\n      value: element.id,\n      onChange: buscaBoloPorSabor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, element.nome)));\n  })), bolosFiltrados.map(element => {\n    return /*#__PURE__*/React.createElement(Link, {\n      key: element.id,\n      to: `/bolo/${element.id}`,\n      className: \"bolo-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"imagem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: element.imagem,\n      alt: element.nome,\n      style: {\n        display: \"inline-block\",\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nome\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    }, element.nome)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"descricao\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, element.descricao)));\n  })));\n}\n\nexport default Sabores;","map":{"version":3,"sources":["/root/Área de trabalho/Sistema Patricia/frontend/src/components/Sabores/index.js"],"names":["React","useState","useEffect","Link","Header","Body","api","Sabores","bolosFiltrados","setBolosFiltrados","sabores","setSabores","buscaSabores","requestSabores","get","data","buscaBoloPorSabor","event","window","formulario","document","getElementById","value","arrayAux","forEach","element","checked","push","valores","join","console","log","requestBolos","map","id","nome","imagem","display","height","descricao"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/Header'\r\nimport Body from '../../components/Body'\r\n\r\nimport api from '../../services/api'\r\n\r\nimport './styles.css'\r\n\r\nfunction Sabores() {\r\n    const [bolosFiltrados, setBolosFiltrados] = useState([]);\r\n    const [sabores, setSabores] = useState([]);\r\n\r\n    async function buscaSabores() {\r\n        const requestSabores = await api.get('sabor');\r\n        if(typeof requestSabores.data == 'object'){\r\n          setSabores(requestSabores.data);\r\n        }\r\n    }\r\n  \r\n    async function buscaBoloPorSabor(event) {\r\n      event = event? event : window.event;\r\n\r\n      let formulario = document.getElementById('formulario-sabores')\r\n\r\n      let sabores = [];\r\n\r\n       if(!!formulario.sabores) {\r\n            if(!!formulario.sabores.value)\r\n                sabores = [formulario.sabores.value];\r\n            else {\r\n                let arrayAux = [...formulario.sabores];\r\n                arrayAux.forEach(element => {\r\n                    if(!!element.checked)\r\n                        sabores.push(element.value)\r\n                })\r\n            }\r\n       }\r\n\r\n      const valores = sabores.join(',');\r\n  \r\n      if(!!valores) {\r\n          console.log(valores)\r\n        const requestBolos = await api.get('bolo?caracteristicas=' + valores);\r\n        if(typeof requestBolos.data == 'object'){\r\n          setBolosFiltrados(requestBolos.data);\r\n        }\r\n      } else\r\n        setBolosFiltrados([]);\r\n    }\r\n  \r\n    useEffect(function(){\r\n        buscaSabores();\r\n    },[]);\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Body>\r\n                <p>\r\n                    Escolha seus sabores preferidos\r\n                </p>\r\n            <form id=\"formulario-sabores\">\r\n            { sabores.map(element => {\r\n                    return (\r\n                        <div  key={element.id} className=\"item-sabor\">\r\n                            <label>\r\n                                <input type=\"checkbox\" name=\"sabores\" value={element.id} onChange={buscaBoloPorSabor} />\r\n                                <span>{ element.nome }</span>\r\n                            </label>\r\n                        </div>\r\n            )})}\r\n            </form>\r\n            \r\n            { bolosFiltrados.map(element => {\r\n                    return (\r\n                        <Link key={element.id} to={`/bolo/${element.id}`} className=\"bolo-item\">\r\n                            <div className=\"imagem\">\r\n                                <img src={element.imagem}  alt={element.nome} style={{display: \"inline-block\", height: '100%'}} />\r\n                            </div>\r\n                            <div className=\"nome\">\r\n                                <p>{element.nome}</p>\r\n                            </div>\r\n                            <div className=\"descricao\">\r\n                                <p>\r\n                                {element.descricao}\r\n                                </p>\r\n                            </div>\r\n                        </Link>\r\n            )})}\r\n            </Body>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Sabores"]},"metadata":{},"sourceType":"module"}